@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap');
@import "tailwindcss";
@import "tw-animate-css";
@plugin "@tailwindcss/typography";
@import "./themes.css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --font-lato:
    var(--font-lato), ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-cairo:
    var(--font-cairo), ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-display: "DM Sans", var(--font-lato), ui-sans-serif, system-ui, sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, monospace;

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-success: hsl(var(--success));
  --color-success-foreground: hsl(var(--success-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  --color-sidebar: hsl(var(--sidebar-background));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-collapsible-down: collapsible-down 0.2s ease-out;
  --animate-collapsible-up: collapsible-up 0.2s ease-out;
  --animate-collapsible-right: collapsible-right 0.2s ease-out;
  --animate-collapsible-left: collapsible-left 0.2s ease-out;
  --animate-glow-pulse: glow-pulse 2s ease-in-out infinite;
  --animate-slide-up-fade: slide-up-fade 0.5s ease-out;
  --animate-border-flow: border-flow 4s linear infinite;
  --animate-scan-line: scan-line 3s linear infinite;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
  @keyframes collapsible-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-collapsible-content-height);
    }
  }
  @keyframes collapsible-up {
    from {
      height: var(--radix-collapsible-content-height);
    }
    to {
      height: 0;
    }
  }
  @keyframes collapsible-right {
    from {
      width: 0;
    }
    to {
      width: var(--radix-collapsible-content-width);
    }
  }
  @keyframes collapsible-left {
    from {
      width: var(--radix-collapsible-content-width);
    }
    to {
      width: 0;
    }
  }
  @keyframes glow-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.6;
    }
  }
  @keyframes slide-up-fade {
    from {
      transform: translateY(12px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  @keyframes border-flow {
    from {
      --border-glow-angle: 0deg;
    }
    to {
      --border-glow-angle: 360deg;
    }
  }
  @keyframes scan-line {
    from {
      transform: translateY(-100%);
    }
    to {
      transform: translateY(100%);
    }
  }
}

@utility container {
  margin-inline: auto;
  padding-inline: 1rem;
  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-border, currentColor);
  }
  button:not(:disabled),
  [role="button"]:not(:disabled) {
    cursor: pointer;
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

:root {
  --background: 0 0% 100%;
  --foreground: 0 0% 4%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 4%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 4%;
  --primary: 185 85% 35%;
  --primary-foreground: 0 0% 100%;
  --secondary: 0 0% 96%;
  --secondary-foreground: 0 0% 4%;
  --muted: 0 0% 96%;
  --muted-foreground: 0 0% 45%;
  --accent: 0 0% 96%;
  --accent-foreground: 0 0% 4%;
  --destructive: 0 85% 60%;
  --destructive-foreground: 0 0% 100%;
  --success: 142 71% 45%;
  --success-foreground: 0 0% 100%;
  --border: 0 0% 90%;
  --input: 0 0% 90%;
  --ring: 185 85% 35%;
  --radius: 0.5rem;
  --chart-1: 185 85% 35%;
  --chart-2: 0 85% 60%;
  --chart-3: 48 100% 53%;
  --chart-4: 142 71% 45%;
  --chart-5: 0 0% 55%;
  --sidebar-background: 0 0% 98%;
  --sidebar-foreground: 0 0% 4%;
  --sidebar-primary: 211 100% 50%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 0 0% 96%;
  --sidebar-accent-foreground: 0 0% 4%;
  --sidebar-border: 0 0% 90%;
  --sidebar-ring: 211 100% 50%;

  /* Calendar vars */
  --fc-small-font-size: 0.875em;
  --fc-page-bg-color: hsl(var(--border));
  --fc-neutral-bg-color: hsl(var(--border));
  --fc-neutral-text-color: hsl(var(--accent-foreground));
  --fc-border-color: hsl(var(--border));
  --fc-button-text-color: hsl(var(--background));
  --fc-button-bg-color: hsl(var(--primary));
  --fc-button-border-color: hsl(var(--primary));
  --fc-button-hover-bg-color: hsl(var(--primary) / 0.8);
  --fc-button-hover-border-color: hsl(var(--primary));
  --fc-button-active-bg-color: hsl(var(--primary) / 0.8);
  --fc-button-active-border-color: hsl(var(--primary) / 0);
  --fc-event-bg-color: hsl(var(--primary));
  --fc-event-border-color: hsl(var(--primary));
  --fc-event-text-color: hsl(var(--background));
  --fc-event-selected-overlay-color: hsl(var(--muted));
  --fc-more-link-bg-color: hsl(var(--muted));
  --fc-more-link-text-color: inherit;
  --fc-event-resizer-thickness: 8px;
  --fc-event-resizer-dot-total-width: 8px;
  --fc-event-resizer-dot-border-width: var(--radius);
  --fc-non-business-color: rgba(215, 215, 215, 0.3);
  --fc-bg-event-color: hsl(var(--success));
  --fc-bg-event-opacity: 0.3;
  --fc-highlight-color: rgba(188, 232, 241, 0.3);
  --fc-today-bg-color: hsl(var(--primary) / 0.15);
  --fc-now-indicator-color: hsl(var(--destructive));
}
.dark {
  --background: 220 20% 3%;
  --foreground: 210 25% 93%;
  --card: 220 18% 6%;
  --card-foreground: 210 25% 93%;
  --popover: 220 20% 5%;
  --popover-foreground: 210 25% 93%;
  --primary: 185 100% 42%;
  --primary-foreground: 220 20% 3%;
  --secondary: 220 15% 11%;
  --secondary-foreground: 210 25% 88%;
  --muted: 220 15% 9%;
  --muted-foreground: 215 12% 48%;
  --accent: 45 100% 55%;
  --accent-foreground: 220 20% 3%;
  --destructive: 0 90% 55%;
  --destructive-foreground: 0 0% 98%;
  --success: 160 84% 39%;
  --success-foreground: 160 84% 10%;
  --border: 220 15% 12%;
  --input: 220 15% 14%;
  --ring: 185 100% 42%;
  --chart-1: 185 100% 42%;
  --chart-2: 160 84% 39%;
  --chart-3: 45 100% 55%;
  --chart-4: 280 70% 55%;
  --chart-5: 0 90% 55%;
  --sidebar-background: 220 20% 2%;
  --sidebar-foreground: 210 25% 93%;
  --sidebar-primary: 185 100% 42%;
  --sidebar-primary-foreground: 220 20% 3%;
  --sidebar-accent: 220 15% 9%;
  --sidebar-accent-foreground: 210 25% 88%;
  --sidebar-border: 220 15% 10%;
  --sidebar-ring: 185 100% 42%;
}

aside.EmojiPickerReact {
  /* Emoji Picker vars */
  --epr-emoji-size: 2rem;
  --epr-emoji-padding: 0.25rem;
  --epr-emoji-gap: 0.5rem;
  --epr-hover-bg-color: hsl(var(--accent));
  --epr-focus-bg-color: hsl(var(--accent));
  --epr-bg-color: hsl(var(--background));
  --epr-reactions-bg-color: hsl(var(--background));
  --epr-highlight-color: hsl(var(--primary));
  --epr-category-icon-active-color: hsl(var(--primary));
  --epr-category-label-bg-color: hsl(var(--background));
  --epr-text-color: hsl(var(--foreground));
  --epr-horizontal-padding: 0.75rem;
  --epr-search-input-bg-color: hsl(var(--muted));
  --epr-search-input-border-radius: var(--radius);
  --epr-search-input-padding: 0 40px;
  --epr-preview-text-size: 0.875rem;
  --epr-header-padding: var(--epr-horizontal-padding)
    var(--epr-horizontal-padding);
  --epr-picker-border-radius: var(--radius);
  --epr-picker-border-color: hsl(var(--border));
  --epr-skin-tone-outer-border-color: hsl(var(--border));
}
.EmojiPickerReact .epr-btn {
  border-radius: var(--radius);
}
.EmojiPickerReact .epr-btn:focus::before {
  border-radius: var(--radius);
  border-width: 1px;
}

@layer utilities {
  /* Monospace numbers for data displays */
  .font-data {
    font-family: var(--font-mono);
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.02em;
  }

  /* Glow effect for profit values */
  .glow-profit {
    text-shadow: 0 0 12px hsl(160 84% 39% / 0.6), 0 0 4px hsl(160 84% 39% / 0.3);
  }

  /* Glow effect for loss values */
  .glow-loss {
    text-shadow: 0 0 12px hsl(0 90% 55% / 0.6), 0 0 4px hsl(0 90% 55% / 0.3);
  }

  /* Glow effect for primary accent values */
  .glow-accent {
    text-shadow: 0 0 12px hsl(var(--primary) / 0.5), 0 0 4px hsl(var(--primary) / 0.25);
  }

  /* Card with subtle grid background pattern */
  .card-grid-bg {
    background-image:
      linear-gradient(hsl(var(--border) / 0.3) 1px, transparent 1px),
      linear-gradient(90deg, hsl(var(--border) / 0.3) 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* Animated gradient border */
  .border-glow {
    position: relative;
    overflow: hidden;
  }
  .border-glow::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(
      var(--border-glow-angle, 0deg),
      hsl(var(--primary) / 0.5),
      transparent 40%,
      transparent 60%,
      hsl(var(--primary) / 0.3)
    );
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    pointer-events: none;
    animation: border-flow 4s linear infinite;
  }

  /* Subtle noise texture overlay */
  .noise-overlay {
    position: relative;
  }
  .noise-overlay::after {
    content: '';
    position: absolute;
    inset: 0;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    pointer-events: none;
    border-radius: inherit;
  }

  /* Page grid background */
  .page-grid-bg {
    background-image:
      radial-gradient(circle at 25% 25%, hsl(var(--primary) / 0.03) 0%, transparent 50%),
      radial-gradient(circle at 75% 75%, hsl(185 100% 50% / 0.02) 0%, transparent 50%),
      linear-gradient(hsl(var(--border) / 0.15) 1px, transparent 1px),
      linear-gradient(90deg, hsl(var(--border) / 0.15) 1px, transparent 1px);
    background-size: 100% 100%, 100% 100%, 40px 40px, 40px 40px;
  }

  /* Staggered animation delays for children */
  .stagger-children > * {
    animation: slide-up-fade 0.5s ease-out both;
  }
  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 60ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 120ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 180ms; }
  .stagger-children > *:nth-child(5) { animation-delay: 240ms; }
  .stagger-children > *:nth-child(6) { animation-delay: 300ms; }
}
